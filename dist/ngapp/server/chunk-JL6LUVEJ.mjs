import './polyfills.server.mjs';
import{A as R,B as Y,C as fe,D as g,E as de,F as D,G as ge,H as he,I as be,J as ve,K as r,L as a,M as s,N as Ce,O as we,P as ye,Q as y,R as Se,S as m,T as Me,U as c,V as Oe,W as ke,Y as Ee,Z as J,a as ee,aa as _e,b as te,c as ne,ca as Ie,d as A,e as oe,ea as Pe,f as C,g as ie,ga as xe,h as K,ha as j,i as E,ia as Q,j as G,ja as De,k as M,ka as Te,l as _,m as w,n as re,na as Ne,o as ae,p as I,q as se,r as P,ra as Fe,s as pe,t as x,ta as Ae,u as H,ua as He,v as p,va as Re,w as ce,x as le,y as me,z as ue}from"./chunk-NSXQYSKF.mjs";import{a as X}from"./chunk-5XUXGTUW.mjs";var B=class t{title="ngapp";static \u0275fac=function(e){return new(e||t)};static \u0275cmp=p({type:t,selectors:[["app-root"]],standalone:!0,features:[c],decls:2,vars:0,consts:[[1,"main"]],template:function(e,o){e&1&&(r(0,"div",0),s(1,"router-outlet"),a())},dependencies:[Fe]})};function qe(t,n){if(t&1){let e=ye();r(0,"button",1),y("click",function(){let i=le(e).$implicit,d=Se();return me(d.routeTo(i.route))}),m(1),a()}if(t&2){let e=n.$implicit;g(),Me(e.title)}}var L=class t{router=H(Ae);navItems=[{title:"Abaco mobile",route:"abaco-mobile"},{title:"Scapmar\xE9e",route:"scapmaree"},{title:"Scafel Mobifresh",route:"scafel-mobifresh"},{title:"Sequoia Labo",route:"sequoia-labo"},{title:"Accueil Fid\xE9lit\xE9",route:"accueil-fidelite"}];routeTo(n){this.router.navigateByUrl(n)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=p({type:t,selectors:[["app-navigation-hp"]],standalone:!0,features:[c],decls:3,vars:0,consts:[["type","button"],["type","button",3,"click"]],template:function(e,o){e&1&&(r(0,"nav"),be(1,qe,2,1,"button",0,he),a()),e&2&&(g(),ve(o.navItems))},styles:["nav[_ngcontent-%COMP%]{width:100vw;height:100vh;padding:2rem;display:flex;flex-direction:column;justify-content:space-between}nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{bordeR:0;font-size:4rem;height:18%;background:#666;color:#fff}"]})};var T=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=p({type:t,selectors:[["app-home"]],standalone:!0,features:[c],decls:1,vars:0,template:function(e,o){e&1&&s(0,"app-navigation-hp")},dependencies:[L]})};var ze=t=>({show:t}),Ze=()=>["/"],u=class t{show=!1;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=p({type:t,selectors:[["app-back-hp"]],standalone:!0,features:[c],decls:7,vars:5,consts:[[1,"bck"],[1,"bckHP",3,"ngClass"],[1,"btnBckHP",3,"routerLink"],["src","svg/cta-back.svg","alt",""],[1,"chevronShow",3,"click"],["src","svg/chevron-down.svg","alt",""]],template:function(e,o){e&1&&(r(0,"div",0)(1,"div",1)(2,"button",2),s(3,"img",3),m(4," Retour \xE0 l'accueil "),a()(),r(5,"button",4),y("click",function(){return o.show=!o.show}),s(6,"img",5),a()()),e&2&&(g(),D("ngClass",ke(2,ze,o.show)),g(),D("routerLink",Oe(4,Ze)))},dependencies:[j,xe,He],styles:["button[_ngcontent-%COMP%]{background:transparent;border:0;padding:0;outline:none;cursor:pointer;width:fit-content;height:fit-content}.bck[_ngcontent-%COMP%]{position:fixed;top:0;right:2rem;display:flex;flex-direction:column;align-items:flex-end;z-index:100}.bckHP[_ngcontent-%COMP%]   .btnBckHP[_ngcontent-%COMP%]{display:flex;align-items:center;color:#fff;font-size:1rem;padding:.5rem 1rem .5rem .5rem;background:#06c;box-shadow:0 0 5px #00000040;z-index:10;position:relative;border-radius:0 0 0 1rem;transition:all .8s ease-in;margin-top:-100%}.bckHP[_ngcontent-%COMP%]   .btnBckHP[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.85rem;height:1.85rem;margin-right:.5rem}.bckHP.show[_ngcontent-%COMP%]   .btnBckHP[_ngcontent-%COMP%]{margin-top:0;transition:all .5s ease-in}.bckHP.show[_ngcontent-%COMP%] + .chevronShow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:rotate(180deg);transition:all .5s ease-in}.chevronShow[_ngcontent-%COMP%]{padding:20px 5px 0;z-index:5;margin-top:-15px;background:#06c;box-shadow:0 0 5px #00000040;border-radius:0 0 .5rem .5rem;transition:all .5s ease-in}"]})};var U=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=p({type:t,selectors:[["app-abaco-mobile"]],standalone:!0,features:[c],decls:3,vars:0,template:function(e,o){e&1&&(s(0,"app-back-hp"),r(1,"p"),m(2,"abaco-mobile works!"),a())},dependencies:[u]})};var W=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=p({type:t,selectors:[["app-scapmaree"]],standalone:!0,features:[c],decls:3,vars:0,template:function(e,o){e&1&&(s(0,"app-back-hp"),r(1,"p"),m(2,"scapmaree works!"),a())},dependencies:[u]})};var V=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=p({type:t,selectors:[["app-scafel-sequoia-labo"]],standalone:!0,features:[c],decls:3,vars:0,template:function(e,o){e&1&&(s(0,"app-back-hp"),r(1,"p"),m(2,"scafel-sequoia-labo works!"),a())},dependencies:[u]})};var q=class t{constructor(n){this.ngZone=n;this.ngZone.runOutsideAngular(()=>{this.resizeSubscription=E(window,"resize").subscribe(()=>{let e=this.getCurrentOrientation();this.ngZone.run(()=>{this.orientationSubject.next(e)})})})}orientationSubject=new te(this.getCurrentOrientation());orientation$=this.orientationSubject.asObservable();resizeSubscription;getCurrentOrientation(){return window.matchMedia("(orientation: portrait)").matches?"portrait":"landscape"}ngOnDestroy(){this.resizeSubscription?.unsubscribe()}static \u0275fac=function(e){return new(e||t)(x(R))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})};var z=class t{ngOnInit(){}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=p({type:t,selectors:[["app-orientation-splash"]],standalone:!0,features:[c],decls:5,vars:0,consts:[[1,"orientationSplash"],["src","rotate-screen.webp","alt","",1,"rotate-element"]],template:function(e,o){e&1&&(Ce(0),r(1,"div",0),s(2,"img",1),r(3,"p"),m(4,"Merci de retourner l'\xE9cran."),a()(),we())},dependencies:[j],styles:[".orientationSplash[_ngcontent-%COMP%]{width:100vw;height:100vh;background:#ffffffd9;position:fixed;top:0;left:0;display:flex;align-items:center;justify-content:center;flex-direction:column}.orientationSplash[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:10vw;height:10vw}.orientationSplash[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;font-size:3rem;font-weight:500;margin:1rem 0}@keyframes _ngcontent-%COMP%_spin-and-pause{0%{transform:rotate(0)}30%{transform:rotate(-90deg)}50%{transform:rotate(-180deg)}80%{transform:rotate(-270deg)}to{transform:rotate(-360deg)}}.rotate-element[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin-and-pause 4s ease-in-out infinite}"]})};function $e(t,n){t&1&&s(0,"app-orientation-splash")}var Z=class t{orientationService=H(q);subscription;orientation="portrait";currentImg=1;ngOnInit(){this.subscription=this.orientationService.orientation$.subscribe(n=>{this.orientation=n})}nextImg(){this.currentImg=this.currentImg+1}previousImg(){this.currentImg>1&&(this.currentImg=this.currentImg-1)}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=p({type:t,selectors:[["app-accueil-fidelite"]],standalone:!0,features:[c],decls:7,vars:2,consts:[[1,"screenMax","lock-portrait"],["alt","","width","800","height","1280",3,"src"],[1,"screenMax","imgNav"],[1,"previous","emptyBtn",3,"click"],[1,"next","emptyBtn",3,"click"]],template:function(e,o){e&1&&(s(0,"app-back-hp"),r(1,"div",0),s(2,"img",1),r(3,"div",2)(4,"button",3),y("click",function(){return o.previousImg()}),a(),r(5,"button",4),y("click",function(){return o.nextImg()}),a()()(),de(6,$e,1,0,"app-orientation-splash")),e&2&&(g(2),D("src","appli/accueil-fidelite/"+o.currentImg+".png",fe),g(4),ge(o.orientation!=="portrait"?6:-1))},dependencies:[u,z]})};var $=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=p({type:t,selectors:[["app-scafel-mobifresh"]],standalone:!0,features:[c],decls:3,vars:0,template:function(e,o){e&1&&(s(0,"app-back-hp"),r(1,"p"),m(2,"scafel-mobifresh works!"),a())},dependencies:[u]})};var je=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:T},{path:"abaco-mobile",component:U},{path:"scapmaree",component:W},{path:"scafel-mobifresh",component:$},{path:"sequoia-labo",component:V},{path:"accueil-fidelite",component:Z},{path:"**",component:T}];var F="Service workers are disabled or not supported by this browser";function Ke(t){return K(()=>oe(new Error(t)))}var O=class{constructor(n){if(this.serviceWorker=n,!n)this.worker=this.events=this.registration=Ke(F);else{let o=E(n,"controllerchange").pipe(C(()=>n.controller)),i=K(()=>A(n.controller)),d=ie(i,o);this.worker=d.pipe(_(S=>!!S)),this.registration=this.worker.pipe(I(()=>n.getRegistration()));let k=E(n,"message").pipe(C(S=>S.data)).pipe(_(S=>S&&S.type)).pipe(ae());k.connect(),this.events=k}}postMessage(n,e){return this.worker.pipe(w(1),se(o=>{o.postMessage(X({action:n},e))})).toPromise().then(()=>{})}postMessageWithOperation(n,e,o){let i=this.waitForOperationCompleted(o),d=this.postMessage(n,e);return Promise.all([d,i]).then(([,l])=>l)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(n){let e;return typeof n=="string"?e=o=>o.type===n:e=o=>n.includes(o.type),this.events.pipe(_(e))}nextEventOfType(n){return this.eventsOfType(n).pipe(w(1))}waitForOperationCompleted(n){return this.eventsOfType("OPERATION_COMPLETED").pipe(_(e=>e.nonce===n),w(1),C(e=>{if(e.result!==void 0)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},Ge=(()=>{class t{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,this.pushManager=null,this.subscriptionChanges=new ee,!e.isEnabled){this.messages=M,this.notificationClicks=M,this.subscription=M;return}this.messages=this.sw.eventsOfType("PUSH").pipe(C(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(C(i=>i.data)),this.pushManager=this.sw.registration.pipe(C(i=>i.pushManager));let o=this.pushManager.pipe(I(i=>i.getSubscription()));this.subscription=G(o,this.subscriptionChanges)}requestSubscription(e){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(F));let o={userVisibleOnly:!0},i=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),d=new Uint8Array(new ArrayBuffer(i.length));for(let l=0;l<i.length;l++)d[l]=i.charCodeAt(l);return o.applicationServerKey=d,this.pushManager.pipe(I(l=>l.subscribe(o)),w(1)).toPromise().then(l=>(this.subscriptionChanges.next(l),l))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(F));let e=o=>{if(o===null)throw new Error("Not subscribed to push notifications.");return o.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(w(1),I(e)).toPromise()}decodeBase64(e){return atob(e)}static{this.\u0275fac=function(o){return new(o||t)(x(O))}}static{this.\u0275prov=P({token:t,factory:t.\u0275fac})}}return t})(),Ye=(()=>{class t{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,!e.isEnabled){this.versionUpdates=M,this.unrecoverable=M;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(F));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(F));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static{this.\u0275fac=function(o){return new(o||t)(x(O))}}static{this.\u0275prov=P({token:t,factory:t.\u0275fac})}}return t})();var Be=new pe("");function Je(t,n,e,o){return()=>{if(!(Q(o)&&"serviceWorker"in navigator&&e.enabled!==!1))return;let i=t.get(R),d=t.get(J);i.runOutsideAngular(()=>{let b=navigator.serviceWorker,v=()=>b.controller?.postMessage({action:"INITIALIZE"});b.addEventListener("controllerchange",v),d.onDestroy(()=>{b.removeEventListener("controllerchange",v)})});let l;if(typeof e.registrationStrategy=="function")l=e.registrationStrategy();else{let[b,...v]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(b){case"registerImmediately":l=A(null);break;case"registerWithDelay":l=Le(+v[0]||0);break;case"registerWhenStable":let k=ne(t.get(J).whenStable());l=v[0]?G(k,Le(+v[0])):k;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}i.runOutsideAngular(()=>l.pipe(w(1)).subscribe(()=>navigator.serviceWorker.register(n,{scope:e.scope}).catch(b=>console.error("Service worker registration failed with:",b))))}}function Le(t){return A(null).pipe(re(t))}function Qe(t,n){return new O(Q(n)&&t.enabled!==!1?navigator.serviceWorker:void 0)}var N=class{};function Ue(t,n={}){return ce([Ge,Ye,{provide:Be,useValue:t},{provide:N,useValue:n},{provide:O,useFactory:Qe,deps:[N,Y]},{provide:Ee,useFactory:Je,deps:[ue,Be,N,Y],multi:!0}])}var We={providers:[_e({eventCoalescing:!0}),Re(je),Te(),Ue("ngsw-worker.js",{enabled:!Ie(),registrationStrategy:"registerWhenStable:30000"})]};var Xe={providers:[Ne()]},Ve=Pe(We,Xe);var et=()=>De(B,Ve),gn=et;export{gn as a};
